<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html> <head>

<!-- Bootstrap requires the following three meta tags to appear first -->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>Timezone Snarf</title>

<!-- Javascript and Cascading Style Sheets (css) libraries -->
<!-- mostly from content delivery networks                 -->

<!-- jquery; CDN load is usually quick because it's likely cached -->
<script type="text/javascript"
     src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js">
</script>

<!-- Bootstrap stylesheet let's us have a 'responsive' layout; -->
<!-- 12 column grid rearranges itself for smaller screens or windows. -->

<!-- per http://getbootstrap.com/getting-started/  -->
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet"
 href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
 integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7"
  crossorigin="anonymous">

<!-- Latest compiled and minified JavaScript -->
<script
 src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"
 integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS"
 crossorigin="anonymous">
</script>

<!-- Experiment: Can I snarf time zone along with time? --> 
<script
src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.19.2/moment-with-locales.min.js"
integrity="sha256-F4eMA/m8RMPXKF2D6cccsZi9tr8t7Mt8J3mK9laOaug="
crossorigin="anonymous"></script>

<script src="/static/js/moment-timezone-with-data-2012-2022.min.js"></script>
</head>
<body>
<div class="container">

  <!-- Visible or invisible timezone? -->

  <form action="_time" method="POST">
  <div class="row">
    <div class="col-sm-8">
      <label for="appt-time">Appt at:</label>
      <input type="time"> </time>
      <select name="timezone">
        <option id="guess_tz" value="UTC">Guess (defaults to UTC)</option>
        <option value="UTC">Universal Time</option>
        <option value="America/New_York">US EST/EDT (NY)</option>
	<option value="America/Denver">US MST/MDT (Denver)</option>
	<option value="America/Los_Angeles">US PST/PDT (LA)</option>
	<option value="Pacific/Honolulu">US Pacific (Hawaii)</option>
	<option value="Europe/Lisbon">West Europe (Lisbon)</option>
	<option value="Europe/London">London (GMT)</option>
	<option value="Europe/Paris">Central Europe (Paris)</option>
	<option value="Asia/Tokyo">Tokyo</option>
	<option value="Australia/Melbourne">Australia (Melbourne)</option>	  
        <option value="Australia/Perth">Australia (Perth)</option>
        </select>
      </div>
  </div>

  <script>
  tz_guess = moment.tz.guess();
  $("#guess_tz").val(tz_guess); 
  $("#guess_tz").html("Time zone: " + tz_guess);
  </script>


  <!-- Hidden fields in the form -->

  <!-- Submitting the form invokes the form action URL -->
  <div class="row">
    <div class="col-sm-8">
    <input type="submit" name="Figure it out!">
    </div>
  </div>
  
</form>

<h2>Sample email composition link</h2>
  <a href="mailto:sample.user@gmail.com?Subject=Our meeting&Body=Lets meet at {{g.proposed_time}}">Send mail</a>




 </div> <!-- container -->
</body> </html>
